[{"filePath":"C:\\Users\\ASUS\\knowledge-base\\frontend\\src\\App.jsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\n  19 |         const storedUser = localStorage.getItem('user');\n  20 |         if (storedUser) {\n> 21 |             setUser(JSON.parse(storedUser));\n     |             ^^^^^^^ Avoid calling setState() directly within an effect\n  22 |         }\n  23 |     }, []);\n  24 |     ","line":21,"column":13,"nodeType":null,"endLine":21,"endColumn":20}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { Toaster } from 'react-hot-toast';\nimport { useState, useEffect } from 'react';\n\n// Import pages (we'll create these next)\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport ArticleList from './pages/ArticleList';\nimport ArticleView from './pages/ArticleView';\nimport ArticleEditor from './pages/ArticleEditor';\nimport AdminPanel from './pages/AdminPanel';\nimport Navbar from './components/Navbar';\n\nfunction App() {\n    const [user, setUser] = useState(null);\n    \n    useEffect(() => {\n        // Check if user is logged in\n        const storedUser = localStorage.getItem('user');\n        if (storedUser) {\n            setUser(JSON.parse(storedUser));\n        }\n    }, []);\n    \n    return (\n        <Router>\n            <div className=\"min-h-screen bg-gray-50\">\n                {user && <Navbar user={user} setUser={setUser} />}\n                \n                <Routes>\n                    <Route path=\"/login\" element={\n                        user ? <Navigate to=\"/\" /> : <Login setUser={setUser} />\n                    } />\n                    \n                    <Route path=\"/register\" element={\n                        user ? <Navigate to=\"/\" /> : <Register setUser={setUser} />\n                    } />\n                    \n                    <Route path=\"/\" element={\n                        user ? <ArticleList user={user} /> : <Navigate to=\"/login\" />\n                    } />\n                    \n                    <Route path=\"/articles/:id\" element={\n                        user ? <ArticleView user={user} /> : <Navigate to=\"/login\" />\n                    } />\n                    \n                    <Route path=\"/editor\" element={\n                        user && (user.role === 'editor' || user.role === 'admin') \n                            ? <ArticleEditor user={user} /> \n                            : <Navigate to=\"/\" />\n                    } />\n                    \n                    <Route path=\"/editor/:id\" element={\n                        user && (user.role === 'editor' || user.role === 'admin') \n                            ? <ArticleEditor user={user} /> \n                            : <Navigate to=\"/\" />\n                    } />\n                    \n                    <Route path=\"/admin\" element={\n                        user && user.role === 'admin' \n                            ? <AdminPanel user={user} /> \n                            : <Navigate to=\"/\" />\n                    } />\n                </Routes>\n                \n                <Toaster position=\"top-right\" />\n            </div>\n        </Router>\n    );\n}\n\nexport default App;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\knowledge-base\\frontend\\src\\api.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\knowledge-base\\frontend\\src\\components\\Navbar.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\knowledge-base\\frontend\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\knowledge-base\\frontend\\src\\pages\\AdminPanel.jsx","messages":[{"ruleId":null,"nodeType":null,"fatal":true,"severity":2,"message":"Parsing error: Unexpected token","line":127,"column":85}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport api from '../utils/api';\r\n\r\nexport default function AdminPanel({ user }) {\r\n    const [categories, setCategories] = useState([]);\r\n    const [newCategory, setNewCategory] = useState({ name: '', description: '' });\r\n    const [stats, setStats] = useState({\r\n        totalArticles: 0,\r\n        totalUsers: 0,\r\n        publishedArticles: 0\r\n    });\r\n    \r\n    useEffect(() => {\r\n        fetchCategories();\r\n        fetchStats();\r\n    }, []);\r\n    \r\n    const fetchCategories = async () => {\r\n        try {\r\n            const response = await api.get('/categories');\r\n            setCategories(response.data);\r\n        } catch (error) {\r\n            toast.error('Failed to load categories');\r\n        }\r\n    };\r\n    \r\n    const fetchStats = async () => {\r\n        try {\r\n            const articlesRes = await api.get('/articles');\r\n            setStats({\r\n                totalArticles: articlesRes.data.pagination?.totalCount || 0,\r\n                publishedArticles: articlesRes.data.articles?.length || 0\r\n            });\r\n        } catch (error) {\r\n            console.error('Failed to load stats');\r\n        }\r\n    };\r\n    \r\n    const handleCreateCategory = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (!newCategory.name.trim()) {\r\n            return toast.error('Category name is required');\r\n        }\r\n        \r\n        try {\r\n            await api.post('/categories', newCategory);\r\n            toast.success('Category created successfully!');\r\n            setNewCategory({ name: '', description: '' });\r\n            fetchCategories();\r\n        } catch (error) {\r\n            toast.error(error.response?.data?.error || 'Failed to create category');\r\n        }\r\n    };\r\n    \r\n    return (\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-8\">‚öôÔ∏è Admin Panel</h1>\r\n            \r\n            {/* Stats Cards */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">Total Articles</div>\r\n                    <div className=\"text-3xl font-bold text-blue-600\">{stats.totalArticles}</div>\r\n                </div>\r\n                \r\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">Published Articles</div>\r\n                    <div className=\"text-3xl font-bold text-green-600\">{stats.publishedArticles}</div>\r\n                </div>\r\n                \r\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                    <div className=\"text-sm text-gray-600 mb-1\">Categories</div>\r\n                    <div className=\"text-3xl font-bold text-purple-600\">{categories.length}</div>\r\n                </div>\r\n            </div>\r\n            \r\n            {/* Create Category */}\r\n            <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\r\n                <h2 className=\"text-xl font-semibold mb-4\">Create New Category</h2>\r\n                \r\n                <form onSubmit={handleCreateCategory} className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Category Name *\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={newCategory.name}\r\n                            onChange={(e) => setNewCategory({ ...newCategory, name: e.target.value })}\r\n                            placeholder=\"e.g., Engineering, HR, Marketing\"\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    \r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                            Description\r\n                        </label>\r\n                        <textarea\r\n                            value={newCategory.description}\r\n                            onChange={(e) => setNewCategory({ ...newCategory, description: e.target.value })}\r\n                            placeholder=\"Optional description\"\r\n                            rows=\"3\"\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                        />\r\n                    </div>\r\n                    \r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700\"\r\n                    >\r\n                        Create Category\r\n                    </button>\r\n                </form>\r\n            </div>\r\n            \r\n            {/* Existing Categories */}\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                <h2 className=\"text-xl font-semibold mb-4\">Existing Categories</h2>\r\n                \r\n                {categories.length === 0 ? (\r\n                    <p className=\"text-gray-500\">No categories yet</p>\r\n                ) : (\r\n                    <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\"></div>","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\knowledge-base\\frontend\\src\\pages\\ArticleEditor.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'user' is defined but never used.","line":8,"column":41,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":45,"suggestions":[{"messageId":"removeVar","data":{"varName":"user"},"fix":{"range":[299,307],"text":""},"desc":"Remove unused variable 'user'."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchArticle'. Either include it or remove the dependency array.","line":31,"column":8,"nodeType":"ArrayExpression","endLine":31,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [fetchArticle, id]","fix":{"range":[923,927],"text":"[fetchArticle, id]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":37,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":37,"endColumn":23},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":54,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":54,"endColumn":23}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport toast from 'react-hot-toast';\r\nimport api from '../utils/api';\r\n\r\nexport default function ArticleEditor({ user }) {\r\n    const { id } = useParams(); // If id exists, we're editing\r\n    const navigate = useNavigate();\r\n    \r\n    const [formData, setFormData] = useState({\r\n        title: '',\r\n        body: '',\r\n        category_id: '',\r\n        status: 'draft',\r\n        tags: ''\r\n    });\r\n    \r\n    const [categories, setCategories] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [isEditMode, setIsEditMode] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        fetchCategories();\r\n        \r\n        if (id) {\r\n            setIsEditMode(true);\r\n            fetchArticle();\r\n        }\r\n    }, [id]);\r\n    \r\n    const fetchCategories = async () => {\r\n        try {\r\n            const response = await api.get('/categories');\r\n            setCategories(response.data);\r\n        } catch (error) {\r\n            toast.error('Failed to load categories');\r\n        }\r\n    };\r\n    \r\n    const fetchArticle = async () => {\r\n        try {\r\n            const response = await api.get(`/articles/${id}`);\r\n            const article = response.data;\r\n            \r\n            setFormData({\r\n                title: article.title,\r\n                body: article.body,\r\n                category_id: article.category_id || '',\r\n                status: article.status,\r\n                tags: article.tags?.map(t => t.name).join(', ') || ''\r\n            });\r\n        } catch (error) {\r\n            toast.error('Failed to load article');\r\n            navigate('/');\r\n        }\r\n    };\r\n    \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (!formData.title.trim() || !formData.body.trim()) {\r\n            return toast.error('Title and body are required');\r\n        }\r\n        \r\n        setLoading(true);\r\n        \r\n        try {\r\n            const payload = {\r\n                title: formData.title,\r\n                body: formData.body,\r\n                category_id: formData.category_id || null,\r\n                status: formData.status,\r\n                tags: formData.tags \r\n                    ? formData.tags.split(',').map(t => t.trim()).filter(Boolean)\r\n                    : []\r\n            };\r\n            \r\n            let response;\r\n            \r\n            if (isEditMode) {\r\n                response = await api.put(`/articles/${id}`, payload);\r\n                toast.success('Article updated successfully!');\r\n            } else {\r\n                response = await api.post('/articles', payload);\r\n                toast.success('Article created successfully!');\r\n            }\r\n            \r\n            navigate(`/articles/${response.data.id || id}`);\r\n        } catch (error) {\r\n            toast.error(error.response?.data?.error || 'Failed to save article');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n    \r\n    // Rich text editor configuration\r\n    const modules = {\r\n        toolbar: [\r\n            [{ 'header': [1, 2, 3, false] }],\r\n            ['bold', 'italic', 'underline', 'strike'],\r\n            [{ 'list': 'ordered'}, { 'list': 'bullet' }],\r\n            [{ 'color': [] }, { 'background': [] }],\r\n            ['link', 'code-block'],\r\n            ['clean']\r\n        ]\r\n    };\r\n    \r\n    return (\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n            <div className=\"bg-white rounded-lg shadow-md p-8\">\r\n                <h1 className=\"text-3xl font-bold text-gray-900 mb-6\">\r\n                    {isEditMode ? '‚úèÔ∏è Edit Article' : 'üìù Create New Article'}\r\n                </h1>\r\n                \r\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                    {/* Title */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            Article Title *\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={formData.title}\r\n                            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                            placeholder=\"Enter article title...\"\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    \r\n                    {/* Category */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            Category\r\n                        </label>\r\n                        <select\r\n                            value={formData.category_id}\r\n                            onChange={(e) => setFormData({ ...formData, category_id: e.target.value })}\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                        >\r\n                            <option value=\"\">Select a category</option>\r\n                            {categories.map(cat => (\r\n                                <option key={cat.id} value={cat.id}>{cat.name}</option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n                    \r\n                    {/* Tags */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            Tags (comma-separated)\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={formData.tags}\r\n                            onChange={(e) => setFormData({ ...formData, tags: e.target.value })}\r\n                            placeholder=\"javascript, tutorial, react\"\r\n                            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                        />\r\n                    </div>\r\n                    \r\n                    {/* Body - Rich Text Editor */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            Article Content *\r\n                        </label>\r\n                        <ReactQuill\r\n                            theme=\"snow\"\r\n                            value={formData.body}\r\n                            onChange={(value) => setFormData({ ...formData, body: value })}\r\n                            modules={modules}\r\n                            className=\"bg-white\"\r\n                            style={{ height: '400px', marginBottom: '50px' }}\r\n                        />\r\n                    </div>\r\n                    \r\n                    {/* Status */}\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            Status\r\n                        </label>\r\n                        <div className=\"flex gap-4\">\r\n                            <label className=\"flex items-center\">\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    value=\"draft\"\r\n                                    checked={formData.status === 'draft'}\r\n                                    onChange={(e) => setFormData({ ...formData, status: e.target.value })}\r\n                                    className=\"mr-2\"\r\n                                />\r\n                                <span className=\"text-sm\">Draft</span>\r\n                            </label>\r\n                            <label className=\"flex items-center\">\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    value=\"published\"\r\n                                    checked={formData.status === 'published'}\r\n                                    onChange={(e) => setFormData({ ...formData, status: e.target.value })}\r\n                                    className=\"mr-2\"\r\n                                />\r\n                                <span className=\"text-sm\">Published</span>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    {/* Submit Buttons */}\r\n                    <div className=\"flex gap-3 pt-4\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={loading}\r\n                            className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:bg-blue-300 font-medium\"\r\n                        >\r\n                            {loading ? 'Saving...' : (isEditMode ? 'Update Article' : 'Create Article')}\r\n                        </button>\r\n                        \r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => navigate('/')}\r\n                            className=\"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 font-medium\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\knowledge-base\\frontend\\src\\pages\\ArticleList.jsx","messages":[{"ruleId":null,"nodeType":null,"fatal":true,"severity":2,"message":"Parsing error: 'return' outside of function","line":8,"column":5}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"    useEffect(() => {\r\n        fetchCategories();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchArticles();\r\n    }, [selectedCategory]);\r\n    return (\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n            {/* Search Bar */}\r\n            <div className=\"mb-8\">\r\n                <form onSubmit={handleSearch} className=\"flex gap-2\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={searchQuery}\r\n                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                        placeholder=\"Search articles...\"\r\n                        className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    />\r\n                    <button\r\n                        type=\"submit\"\r\n                        className=\"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700\"\r\n                    >\r\n                        üîç Search\r\n                    </button>\r\n                    {searchResults && (\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => {\r\n                                setSearchQuery('');\r\n                                setSearchResults(null);\r\n                            }}\r\n                            className=\"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600\"\r\n                        >\r\n                            Clear\r\n                        </button>\r\n                    )}\r\n                </form>\r\n            </div>\r\n            \r\n            {/* Category Filter */}\r\n            <div className=\"mb-6 flex items-center gap-4\">\r\n                <span className=\"text-sm font-medium text-gray-700\">Filter by category:</span>\r\n                <select\r\n                    value={selectedCategory}\r\n                    onChange={(e) => setSelectedCategory(e.target.value)}\r\n                    className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                >\r\n                    <option value=\"\">All Categories</option>\r\n                    {categories.map(cat => (\r\n                        <option key={cat.id} value={cat.id}>{cat.name}</option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            \r\n            {/* Results Info */}\r\n            {searchResults && (\r\n                <div className=\"mb-4 text-sm text-gray-600\">\r\n                    Found {searchResults.length} results for \"{searchQuery}\"\r\n                </div>\r\n            )}\r\n            \r\n            {/* Articles Grid */}\r\n            {displayArticles.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                    <p className=\"text-gray-500 text-lg\">No articles found</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n                    {displayArticles.map(article => (\r\n                        <Link\r\n                            key={article.id}\r\n                            to={`/articles/${article.id}`}\r\n                            className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-shadow\"\r\n                        >\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                                <span className=\"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded\">\r\n                                    {article.category_name || 'Uncategorized'}\r\n                                </span>\r\n                                <span className=\"text-xs text-gray-500\">\r\n                                    üëÅÔ∏è {article.view_count || 0} views\r\n                                </span>\r\n                            </div>\r\n                            \r\n                            <h3 className=\"text-xl font-bold text-gray-800 mb-2 line-clamp-2\">\r\n                                {article.title}\r\n                            </h3>\r\n                            \r\n                            <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">\r\n                                {article.body.replace(/<[^>]*>/g, '').substring(0, 150)}...\r\n                            </p>\r\n                            \r\n                            <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n                                <span>‚úçÔ∏è {article.author_name}</span>\r\n                                <span>{new Date(article.created_at).toLocaleDateString()}</span>\r\n                            </div>\r\n                        </Link>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\knowledge-base\\frontend\\src\\pages\\ArticleView.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchArticle'. Either include it or remove the dependency array.","line":16,"column":8,"nodeType":"ArrayExpression","endLine":16,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [fetchArticle, id]","fix":{"range":[580,584],"text":"[fetchArticle, id]"}}]},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":22,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":23},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":35,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":35,"endColumn":23},{"ruleId":"no-unused-vars","severity":2,"message":"'error' is defined but never used.","line":49,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":49,"endColumn":23}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport toast from 'react-hot-toast';\r\nimport api from '../utils/api';\r\n\r\nexport default function ArticleView({ user }) {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [article, setArticle] = useState(null);\r\n    const [versions, setVersions] = useState([]);\r\n    const [showVersions, setShowVersions] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    \r\n    useEffect(() => {\r\n        fetchArticle();\r\n    }, [id]);\r\n    \r\n    const fetchArticle = async () => {\r\n        try {\r\n            const response = await api.get(`/articles/${id}`);\r\n            setArticle(response.data);\r\n        } catch (error) {\r\n            toast.error('Failed to load article');\r\n            navigate('/');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n    \r\n    const fetchVersions = async () => {\r\n        try {\r\n            const response = await api.get(`/articles/${id}/versions`);\r\n            setVersions(response.data);\r\n            setShowVersions(true);\r\n        } catch (error) {\r\n            toast.error('Failed to load version history');\r\n        }\r\n    };\r\n    \r\n    const handleDelete = async () => {\r\n        if (!window.confirm('Are you sure you want to delete this article?')) {\r\n            return;\r\n        }\r\n        \r\n        try {\r\n            await api.delete(`/articles/${id}`);\r\n            toast.success('Article deleted successfully');\r\n            navigate('/');\r\n        } catch (error) {\r\n            toast.error('Failed to delete article');\r\n        }\r\n    };\r\n    \r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-screen\">\r\n                <div className=\"text-xl text-gray-600\">Loading article...</div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n    if (!article) {\r\n        return null;\r\n    }\r\n    \r\n    const canEdit = user.role === 'admin' || \r\n                    user.role === 'editor' || \r\n                    article.author_id === user.id;\r\n    \r\n    return (\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n            {/* Header */}\r\n            <div className=\"mb-6\">\r\n                <Link to=\"/\" className=\"text-blue-600 hover:underline text-sm\">\r\n                    ‚Üê Back to Articles\r\n                </Link>\r\n            </div>\r\n            \r\n            {/* Article Header */}\r\n            <div className=\"bg-white rounded-lg shadow-md p-8 mb-6\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                    <span className=\"text-sm bg-blue-100 text-blue-800 px-3 py-1 rounded\">\r\n                        {article.category_name || 'Uncategorized'}\r\n                    </span>\r\n                    <span className=\"text-sm text-gray-500\">\r\n                        üëÅÔ∏è {article.view_count} views\r\n                    </span>\r\n                </div>\r\n                \r\n                <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\r\n                    {article.title}\r\n                </h1>\r\n                \r\n                <div className=\"flex items-center justify-between text-sm text-gray-600 mb-6\">\r\n                    <div>\r\n                        ‚úçÔ∏è By <span className=\"font-medium\">{article.author_name}</span>\r\n                    </div>\r\n                    <div>\r\n                        üìÖ {new Date(article.created_at).toLocaleDateString('en-US', {\r\n                            year: 'numeric',\r\n                            month: 'long',\r\n                            day: 'numeric'\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                \r\n                {/* Tags */}\r\n                {article.tags && article.tags.length > 0 && (\r\n                    <div className=\"flex gap-2 mb-6\">\r\n                        {article.tags.map(tag => (\r\n                            <span \r\n                                key={tag.id}\r\n                                className=\"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded\"\r\n                            >\r\n                                #{tag.name}\r\n                            </span>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n                \r\n                {/* Article Body */}\r\n                <div \r\n                    className=\"prose max-w-none\"\r\n                    dangerouslySetInnerHTML={{ __html: article.body }}\r\n                />\r\n            </div>\r\n            \r\n            {/* Action Buttons */}\r\n            {canEdit && (\r\n                <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\">Article Actions</h3>\r\n                    <div className=\"flex gap-3\">\r\n                        <Link\r\n                            to={`/editor/${id}`}\r\n                            className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\r\n                        >\r\n                            ‚úèÔ∏è Edit Article\r\n                        </Link>\r\n                        \r\n                        <button\r\n                            onClick={fetchVersions}\r\n                            className=\"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700\"\r\n                        >\r\n                            üìú Version History\r\n                        </button>\r\n                        \r\n                        {user.role === 'admin' && (\r\n                            <button\r\n                                onClick={handleDelete}\r\n                                className=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700\"\r\n                            >\r\n                                üóëÔ∏è Delete\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n            \r\n            {/* Version History */}\r\n            {showVersions && (\r\n                <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\">üìú Version History</h3>\r\n                    {versions.length === 0 ? (\r\n                        <p className=\"text-gray-500\">No previous versions</p>\r\n                    ) : (\r\n                        <div className=\"space-y-4\">\r\n                            {versions.map((version, index) => (\r\n                                <div key={version.id} className=\"border-l-4 border-blue-500 pl-4 py-2\">\r\n                                    <div className=\"text-sm text-gray-600 mb-1\">\r\n                                        Version {versions.length - index} - \r\n                                        Edited by {version.edited_by_name} on {' '}\r\n                                        {new Date(version.created_at).toLocaleString()}\r\n                                    </div>\r\n                                    <div className=\"text-sm font-medium\">{version.title}</div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\knowledge-base\\frontend\\src\\pages\\Login.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\ASUS\\knowledge-base\\frontend\\src\\pages\\Register.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]